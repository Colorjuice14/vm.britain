focus_tree = {
	id = moroccan_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = MOR
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1650 }

	focus = {
		id = MOR_revive_berber_dahib
		icon = GFX_focus_generic_monarchy_1
		x = 15
		y = 0

		cost = 5
		offset = {
			x = -5
			y = 0
			trigger = {
				has_completed_focus = MOR_road_to_independence
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 25
		}
	}
	focus = {
		id = MOR_army_of_morocco
		icon = GFX_focus_chi_army_reform
		x = 30
		y = 7

		cost = 5
		available = {
		}
		offset = {
			x = 0
			y = 2
			trigger = {
				has_completed_focus = MOR_Power_OF_Sultan
			}
		}	
		
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_dynamic_modifier = {
				modifier = MOR_army
			}
		    add_to_variable = { MOR_organization = 5 }
			custom_effect_tooltip = plus_org
		}
	}
	focus = {
		id = MOR_traditional_army
		icon = GFX_focus_ETH_keep_the_chitet
		x = -2
		y = 1
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_army_of_morocco }
		mutually_exclusive = { focus = MOR_new_army }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_cav_nas = 0.1 }
			add_to_variable = { MOR_cav_def = 0.1 }
			add_to_variable = { MOR_army_speed = 0.05 }
			custom_effect_tooltip = trad_army
			
		}
	}
	focus = {
		id = MOR_new_army
		icon = GFX_focus_mex_restore_the_army_of_christ
		mutually_exclusive = { focus = MOR_traditional_army }
		x = 2
		y = 1
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_army_of_morocco }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_army_speed = 0.15 }
			custom_effect_tooltip = new_army
			
		}
	}
	focus = {
		id = MOR_army_trucks
		icon = GFX_focus_generic_truck
		x = 3
		y = 2
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_new_army }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_res = 0.1 }
			custom_effect_tooltip = res
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = radar_tech
			}
		}
	}
	focus = {
		id = MOR_moroccan_tanks
		icon = GFX_focus_generic_tank_production
		x = 1
		y = 2
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_new_army }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_armor_attack = 0.1 }
			custom_effect_tooltip = arm_att
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = armor
			}
		}
	}
	focus = {
		id = MOR_doctrine
		icon = GFX_goal_generic_army_doctrines
		x = 2
		y = 3
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_moroccan_tanks }
		prerequisite = { focus = MOR_army_trucks }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_doctrine = -0.25 }
			custom_effect_tooltip = doctrine
		}
	}
	focus = {
		id = MOR_academy
		icon = GFX_focus_generic_military_academy
		x = 0
		y = 4
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_doctrine focus = MOR_the_tradition_lives }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_organization = 15 }
			custom_effect_tooltip = org_new
		}
	}
	focus = {
		id = MOR_scavenge_for_res
		icon = GFX_focus_ETH_scavenging_tactics
		x = -1
		y = 2
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_traditional_army }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_capture = 0.3 }
			custom_effect_tooltip = capture_stuff
		}
	}
	focus = {
		id = MOR_elite_forces
		icon = GFX_focus_ETH_expand_the_kebur_zabagna
		x = -3
		y = 2
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_traditional_army }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_attack = 0.15 }
			custom_effect_tooltip = attack_stuff
			division_template = {
				name = "Elite Forces"
				priority = 15
				division_names_group = POL_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
		
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
		
					infantry = { x = 2 y = 0 }
					artillery_brigade = { x = 2 y = 1 }
					artillery_brigade = { x = 2 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
			}
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 936 } #RAbat
				create_unit = {
					division = "name = \"Elite Guard\" division_template = \"Elite Forces\" start_experience_factor = 1.0" 
					owner = MOR
				}
			}
		}
	}
	focus = {
		id = MOR_the_tradition_lives
		icon = GFX_focus_ETH_peacekeeping_forces
		x = -2
		y = 3
		relative_position_id = MOR_army_of_morocco

		cost = 5
		available = {
		}
		prerequisite = { focus = MOR_elite_forces }
		prerequisite = { focus = MOR_scavenge_for_res }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		    add_to_variable = { MOR_organization = 10 }
			custom_effect_tooltip = org
		}
	}
	focus = {
		id = MOR_invest_in_infrastructure
		icon = GFX_goal_generic_construct_infrastructure
		x = 15
		y = 7

		cost = 5
		available = {
		}	
		offset = {
			x = -6
			y = 0
			trigger = {
				has_completed_focus = MOR_Power_OF_Sultan
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_ideas = compagnie_au_maroc
		}
	}
	focus = {
		id = MOR_kickstart_electrification
		icon = GFX_focus_generic_energy
		x = 5
		y = 1

		cost = 4
		
		prerequisite = { focus = MOR_invest_in_infrastructure }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = non_electrification_2
				remove_idea = non_electrification
			}		
		}
	}
	focus = {
		id = MOR_tax_for_electrification
		icon = GFX_focus_DEN_devalue_krone
		x = 4
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_kickstart_electrification }
		relative_position_id = MOR_invest_in_infrastructure
		mutually_exclusive = { focus = MOR_invest_for_electrification }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = electrified_society
				remove_idea = non_electrification_2
			}
			add_timed_idea = {
				idea = taxavation
				days = 180
			}
		}
	}
	focus = {
		id = MOR_invest_for_electrification
		icon = GFX_goal_gold
		x = 6
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_kickstart_electrification }
		relative_position_id = MOR_invest_in_infrastructure
		mutually_exclusive = { focus = MOR_tax_for_electrification }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = electrified_society
				remove_idea = non_electrification_2
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}	
		}
	}
	focus = {
		id = MOR_university_of_rabat
		icon = GFX_focus_generic_university_1
		x = 5
		y = 3

		cost = 4
		
		prerequisite = { focus = MOR_tax_for_electrification focus = MOR_invest_for_electrification}
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = MOR_farmer_culture
		icon = GFX_focus_generic_farmland
		x = 1
		y = 1

		cost = 4
		
		prerequisite = { focus = MOR_invest_in_infrastructure }
		relative_position_id = MOR_invest_in_infrastructure
		mutually_exclusive = { focus = MOR_push_for_industry }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = agrarian_culture
				remove_idea = agrarian_society
			}
		}
	}
	focus = {
		id = MOR_the_science
		icon = GFX_focus_research2
		x = 2
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_farmer_culture }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = research_farm
		}
	}
	focus = {
		id = MOR_agricultural_subsides
		icon = GFX_focus_generic_agricultural_subsidies
		x = 2
		y = 3

		cost = 4
		
		prerequisite = { focus = MOR_the_science }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = agricultural_reform
		}
	}
	focus = {
		id = MOR_push_for_industry
		icon = GFX_focus_generic_modernize_industry
		x = -1
		y = 1

		cost = 4
		
		prerequisite = { focus = MOR_invest_in_infrastructure }
		relative_position_id = MOR_invest_in_infrastructure
		mutually_exclusive = { focus = MOR_farmer_culture }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				add_idea = industrialisation
				remove_idea = agrarian_society
			}
		}
	}
	focus = {
		id = MOR_expand_port_of_agadir
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -5
		y = 1

		cost = 4
		
		prerequisite = { focus = MOR_invest_in_infrastructure }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = MOR_new_vpo
		}
	}
	focus = {
		id = MOR_trucks
		icon = GFX_focus_generic_truck
		x = -4
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_expand_port_of_agadir }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
				amount = 100
				producer = MOR
			}
		}
	}
	focus = {
		id = MOR_defence
		icon = GFX_goal_generic_military_sphere
		x = -6
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_expand_port_of_agadir }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = defence_budget
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}		
		}
	}
	focus = {
		id = MOR_national_bank
		icon = GFX_goal_bank
		x = -5
		y = 3

		cost = 4
		
		prerequisite = { focus = MOR_trucks }
		prerequisite = { focus = MOR_defence }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = bank
		}
	}
	focus = {
		id = MOR_cash
		icon = GFX_focus_mex_privatisation
		x = -2
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_push_for_industry }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = cash
		}
	}
	focus = {
		id = MOR_international_investments
		icon = GFX_focus_generic_american_investments
		x = -2
		y = 3

		cost = 4
		
		prerequisite = { focus = MOR_cash }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = MOR_mine_steel
		icon = GFX_focus_generic_mining_industry
		x = 0
		y = 2

		cost = 4
		
		prerequisite = { focus = MOR_push_for_industry focus = MOR_farmer_culture }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				add_resource = {
					type = steel
					amount = 7
				}
			}
		}
	}
	focus = {
		id = MOR_consumer_goods
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 3

		cost = 4
		
		prerequisite = { focus = MOR_mine_steel }
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = MOR_iron_plan
		icon = GFX_focus_SOV_merge_plants
		x = 0
		y = 4

		cost = 4
		
		prerequisite = { focus = MOR_consumer_goods	}
		relative_position_id = MOR_invest_in_infrastructure
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = MOR_iron_plan
		}
	}
	focus = {
		id = MOR_road_to_independence
		icon = GFX_focus_generic_support_the_left_right
		x = 24
		y = 1
		prerequisite = { focus = MOR_revive_berber_dahib }
		mutually_exclusive = { focus = MOR_stay_with_france }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		offset = {
			x = -14
			y = 0
			trigger = {
				has_completed_focus = MOR_road_to_independence
			}
		}
		completion_reward = {
			mark_focus_tree_layout_dirty = yes
			swap_ideas = {
				remove_idea = berber_dahir_start
				add_idea = berber_dahir_revived
			}
			every_state = {
				limit = {
					has_dynamic_modifier = {
						modifier = MOR_berber_insurgency
						scope = MOR
					}
				}
				remove_dynamic_modifier = { modifier = MOR_berber_insurgency }
			}
		}
	}
	focus = {
		id = MOR_approach_people
		icon = GFX_focus_SOV_mobilization_plan
		x = 0
		y = 1
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_road_to_independence }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			division_template = {
				name = "People Volunteers"
				is_locked = yes
				division_names_group = MOR_INF_0
				template_counter = 0
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"People Volunteers\" division_template = \"People Volunteers\" start_experience_factor = 0.2"
					owner = MOR
				}	
				create_unit = {
					division = "name = \"People Volunteers\" division_template = \"People Volunteers\" start_experience_factor = 0.2"
					owner = MOR
				}	
				create_unit = {
					division = "name = \"People Volunteers\" division_template = \"People Volunteers\" start_experience_factor = 0.2"
					owner = MOR
				}	
				create_unit = {
					division = "name = \"People Volunteers\" division_template = \"People Volunteers\" start_experience_factor = 0.2"
					owner = MOR
				}	
				create_unit = {
					division = "name = \"People Volunteers\" division_template = \"People Volunteers\" start_experience_factor = 0.2"
					owner = MOR
				}	
				create_unit = {
					division = "name = \"People Volunteers\" division_template = \"People Volunteers\" start_experience_factor = 0.2"
					owner = MOR
				}						
			}
		}
	}
	focus = {
		id = MOR_raid_on_french_warehouses
		icon = GFX_focus_ETH_freedom_at_gunpoint
		x = 2
		y = 1
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_road_to_independence }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_equipment_to_stockpile = {
                type = infantry_equipment_0
                amount = 3000
                producer = FRA
            }
			add_equipment_to_stockpile = {
                type = artillery_equipment_1
                amount = 60
                producer = FRA
            }
			add_equipment_to_stockpile = {
                type = support_equipment
                amount = 90
                producer = FRA
            }
		}
	}
	focus = {
		id = MOR_meet_with_nationalists
		icon = GFX_focus_generic_industrialists
		x = -2
		y = 1
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_road_to_independence }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = morocco.1
		}
	}
	focus = {
		id = MOR_ask_international_help
		icon = GFX_focus_generic_military_academy
		x = -4
		y = 1
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_road_to_independence }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 25
			add_timed_idea = {
				idea = international_help
				days = 180
			}
			MOR_belyaev = {
				add_corps_commander_role = {
					traits = { trickster brilliant_strategist }
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 3
				}
				add_advisor_role = {
					slot = high_command
					idea_token = belyaev
					ledger = army
					allowed = {
						original_tag = MOR
					}
					traits = {
						army_infantry_2
					}
					cost = 50
				}
			}
			MOR_ern = {
				add_corps_commander_role = {
					traits={ cavalry_officer }
					skill=4
					attack_skill=4
					defense_skill=2
					planning_skill=3
					logistics_skill=4
				}
				add_advisor_role = {
					slot = high_command
					idea_token = ern
					ledger = army
					allowed = {
						original_tag = MOR
					}
					traits = {
						army_logistics_2
					}
					cost = 50
				}
			}
			division_template = {
				name = "Foreign Legion"
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
						
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
			load_oob = "MOR_foreign_legions"
		}
	}
	focus = {
		id = MOR_legacy_of_rif
		icon = GFX_focus_ETH_the_rif
		x = -4
		y = 2
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_ask_international_help }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = morocco.6
			add_ideas = berbers
			MOR_abd_el_krim = {
				add_corps_commander_role = {
					traits = { politically_connected desert_fox }
					skill = 4
					attack_skill = 4
					defense_skill = 3
					planning_skill = 4
					logistics_skill = 3
				}
				add_advisor_role = {
					activate = yes
					advisor={
						slot = army_chief
						idea_token = krim
						traits = {
							army_chief_offensive_2
						}
					}
				}
			}
			set_can_be_fired_in_advisor_role = {
				character = MOR_abd_el_krim
				value = no
			}
			division_template = {
				name = "Rif Camelry"
				is_locked = yes
				regiments = {
					camelry = { x = 0 y = 0 }
					camelry = { x = 0 y = 1 }
					camelry = { x = 0 y = 2 }
					camelry = { x = 1 y = 0 }
					camelry = { x = 1 y = 1 }
					camelry = { x = 1 y = 2 }
					camelry = { x = 2 y = 0 }
					camelry = { x = 2 y = 1 }
					camelry = { x = 2 y = 2 }
				}
					
				support = {
					recon = { x = 0 y = 0 }
				}
			}
			load_oob = "MOR_camelry"
			custom_effect_tooltip = berbers_arrive
		}
	}
	focus = {
		id = MOR_agreement_in_lissabon
		icon = GFX_focus_generic_befriend_portugal
		x = 4
		y = 1
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_road_to_independence }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			unlock_decision_category_tooltip = MOR_buy_portugues_equipment
		}
	}
	focus = {
		id = MOR_support_partisans
		icon = GFX_focus_ITA_corpo_volontari_della_liberta
		x = 4
		y = 2
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_agreement_in_lissabon }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			459 = {
				add_resistance = 30
				add_resistance_target = 75
				add_compliance = -30
			}
			513 = {
				add_resistance = 30
				add_resistance_target = 75
				add_compliance = -30			
			}
			460 = {
				add_resistance = 30
				add_resistance_target = 75
				add_compliance = -30			
			}
			458 = {
				add_resistance = 30
				add_resistance_target = 75
				add_compliance = -30			
			}
			665 = {
				add_resistance = 30
				add_resistance_target = 75
				add_compliance = -30			
			}
		}
	}
	focus = {
		id = MOR_declare_independence
		icon = GFX_focus_FIN_the_lone_wolf
		x = 0
		y = 2
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_approach_people }
		prerequisite = { focus = MOR_raid_on_french_warehouses }
		prerequisite = { focus = MOR_meet_with_nationalists }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_cosmetic_tag = MOR_kingdom
            create_country_leader = {
				name = "Mohhamed V"
				desc = ""
				picture = GFX_portrait_mohhamed
				ideology = despotism
				traits = {
		#
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = MOR_monarchic_party
				name = MOR_monarchic_party
			}
			remove_ideas = french_protectore
			remove_ideas = berber_dahir_revived
			FRA = {
				set_autonomy = {
					target = MOR
					autonomy_state = autonomy_free
					end_wars = no
					end_civil_wars = no
				}
				hidden_effect = {
					MOR = {
						if = {
							limit = { is_in_faction_with = FRA }
							leave_faction = yes
						}
					}
				}
				news_event = mor_news.1
				declare_war_on = {
					target = MOR
					type = annex_everything
				}
			}
		}
	}
	focus = {
		id = MOR_algerian_volunteers
		icon = GFX_focus_generic_full_social_mobilization
		x = -3
		y = 3
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_declare_independence }
		prerequisite = { focus = MOR_legacy_of_rif }
		cost = 1.5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			division_template = {
				name = "Algerian Volunteers"
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
					
				support = {
					recon = { x = 0 y = 0 }
				}
			}
			load_oob = "MOR_algerians"			
		}
	}
	focus = {
		id = MOR_union_with_algerians
		icon = GFX_focus_NOR_approach_kretsen
		x = -1
		y = 3
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_declare_independence }
		cost = 1.5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			459 = {
				add_core_of = MOR
			}
			513 = {
				add_core_of = MOR			
			}
			460 = {
				add_core_of = MOR		
			}
		}
	}
	focus = {
		id = MOR_union_with_tunisians
		icon = GFX_focus_NOR_approach_kretsen
		x = 1
		y = 3
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_declare_independence }
		cost = 1.5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			458 = {
				add_core_of = MOR				
			}
			665 = {
				add_core_of = MOR			
			}
		}
	}
	focus = {
		id = MOR_operation_tunis
		icon = GFX_focus_focus_fra_maquis
		x = 3
		y = 3
		relative_position_id = MOR_road_to_independence
		prerequisite = { focus = MOR_declare_independence }
		prerequisite = { focus = MOR_support_partisans }
		cost = 1.5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			458 = {
			set_building_level = {
				type = naval_base
				level = 0
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
					level > 1
				}
			}
			}
		}
	}
	focus = {
		id = MOR_stay_with_france
		icon = GFX_focus_chi_reach_out_to_france
		x = 6
		y = 1
		prerequisite = { focus = MOR_revive_berber_dahib }
		mutually_exclusive = { focus = MOR_road_to_independence }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		allow_branch = {
		NOT = {
		has_completed_focus = MOR_road_to_independence
		}
		}
		complete_tooltip = {

		}

		completion_reward = {
			swap_ideas = {
				remove_idea = berber_dahir_start
				add_idea = berber_dahir_with_france
			}
			hidden_effect = {
				country_event = {
					id = morocco.16
					days = 60
					random_hours = 12
					random_days = 10
				}
			}
		}
	}
	
	focus = {
		id = MOR_economical_expluatation
		icon = GFX_focus_GER_integrated_economies
		x = 6
		y = 2
		prerequisite = { focus = MOR_stay_with_france }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = mor_economic_expluatation_tooltip
			hidden_effect = {
				add_dynamic_modifier = {
					modifier = MOR_expluatation
				}
			}
			unlock_decision_category_tooltip = MOR_economic_expluatation_cat
			activate_mission = MOR_exploitation_efficiency_decreases
			
		}
	}
	
	focus = {
		id = MOR_open_Compagnie_franco-espagnole_du_chemin
		icon = GFX_focus_generic_railroad
		x = 7
		y = 3
		prerequisite = { focus = MOR_economical_expluatation }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			# build_railway = {
				# level = 3
				# build_only_on_allied = no
				# path = { 9945 12087 10013 11987 }
				# start_province = 9945
				# target_province = 11987
			# }
			# custom_effect_tooltip = economic_exploitaion_will_be_changed
			# add_to_variable = { var = mor_consumer_goods_factor_from_expluataion_var value = 0.05 tooltip = consumer_goods_factor_tt }
			# 990 = {
				# add_building_construction = {
					# type = infrastructure
					# level = 1
					# instant_build = yes
				# }			
			# }
			# 984 = {
				# add_building_construction = {
					# type = infrastructure
					# level = 1
					# instant_build = yes
				# }			
			# }
		}
	}
	
	focus = {
		id = MOR_fund_CTM
		icon = GFX_CTM
		x = 8
		y = 4
		prerequisite = { focus = MOR_open_Compagnie_franco-espagnole_du_chemin }
		cost = 4
		available = {
			has_completed_focus = MOR_invest_in_infrastructure
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			custom_effect_tooltip = economic_exploitaion_will_be_changed
			add_to_variable = { var = mor_consumer_goods_factor_from_expluataion_var value = 0.05 tooltip = consumer_goods_factor_tt }
			swap_ideas = {
				remove_idea = compagnie_au_maroc
				add_idea = compagnie_au_maroc_2
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}			
			}
		}
	}
	
	focus = {
		id = MOR_OCP_group
		icon = GFX_OCP
		x = 5
		y = 3
		prerequisite = { focus = MOR_economical_expluatation }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			custom_effect_tooltip = economic_exploitaion_will_be_changed
			add_to_variable = { var = mor_consumer_goods_factor_from_expluataion_var value = 0.05 tooltip = consumer_goods_factor_tt }
			461 = {
				add_resource = {
					type = chromium
					amount = 17
				}
			}
			462 = {
				add_resource = {
					type = steel
					amount = 22
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}			
			}
		}
	}
	
	focus = {
		id = MOR_look_for_oil
		icon = GFX_goal_generic_oil_refinery
		x = 4
		y = 4
		prerequisite = { focus = MOR_OCP_group }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			custom_effect_tooltip = economic_exploitaion_will_be_changed
			add_to_variable = { var = mor_consumer_goods_factor_from_expluataion_var value = 0.05 tooltip = consumer_goods_factor_tt }
			# 988 = {
				# add_resource = {
					# type = oil
					# amount = 22
				# }
			# }
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}			
			}
		}
	}
	
	focus = {
		id = MOR_talk_with_the_french
		icon = GFX_focus_fra_french_union
		x = 6
		y = 4
		prerequisite = { focus = MOR_OCP_group }
		prerequisite = { focus = MOR_open_Compagnie_franco-espagnole_du_chemin }
		cost = 4

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			swap_ideas = {
				remove_idea = french_protectore
				add_idea = french_protectore_2
			}			
		}
	}
	
	focus = {
		id = MOR_a_new_form_of_protectorate
		icon = GFX_focus_GER_integration_of_puppet_economies
		x = 6
		y = 5
		cost = 4
		prerequisite = { focus = MOR_talk_with_the_french }
		prerequisite = { focus = MOR_fund_CTM }
		prerequisite = { focus = MOR_look_for_oil }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			remove_mission = MOR_exploitation_efficiency_decreases	
			unlock_decision_tooltip = MOR_normalize_the_process
		}
	}
	
	focus = {
		id = MOR_political_actions
		icon = GFX_focus_generic_self_management
		x = 10
		y = 2
		cost = 4
		prerequisite = { focus = MOR_stay_with_france }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			add_political_power = 150 
		}
	}

	focus = {
		id = MOR_legacy_of_lyautey
		icon = GFX_focus_general
		x = 9
		y = 3
		cost = 4
		prerequisite = { focus = MOR_political_actions }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			swap_ideas = {
				remove_idea = mohhamed_v_idea_start
				add_idea = mohhamed_v_idea_pro_french
			}
		}
	}
	
	focus = {
		id = MOR_crush_uprising_in_atlas
		icon = GFX_focus_generic_little_entente
		x = 11
		y = 3
		cost = 4
		prerequisite = { focus = MOR_political_actions }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			every_state = {
				limit = {
					has_dynamic_modifier = {
						modifier = MOR_berber_insurgency
						scope = MOR
					}
				}
				remove_dynamic_modifier = { modifier = MOR_berber_insurgency }
			}
		}
	}
	
	focus = {
		id = MOR_revive_berber_dahir_fra
		icon = GFX_focus_hol_the_foundations_of_defense
		x = 10
		y = 5
		cost = 4
		prerequisite = { focus = MOR_political_actions }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			swap_ideas = {
				remove_idea = berber_dahir_with_france
				add_idea = berber_dahir_with_france_2
			}			
		}
	}
	
	focus = {
		id = MOR_improve_garrison
		icon = GFX_focus_generic_full_social_mobilization
		x = 2
		y = 2
		cost = 4
		prerequisite = { focus = MOR_stay_with_france }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			army_experience = 25			
		}
	}
	
	focus = {
		id = MOR_request_french_equipment
		icon = GFX_focus_ETH_freedom_at_gunpoint
		x = 3
		y = 3
		cost = 4
		prerequisite = { focus = MOR_improve_garrison }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 1000
				producer = FRA
			}	
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 300
				producer = FRA
			}				
		}
	}
	
	focus = {
		id = MOR_ask_for_advisors
		icon = GFX_focus_generic_army_doctrines_2
		x = 1
		y = 3
		cost = 4
		prerequisite = { focus = MOR_improve_garrison }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}				
		}
	}
	
	focus = {
		id = MOR_de_gaulle_inspection
		icon = GFX_focus_gaulle
		x = 1
		y = 4
		cost = 4
		prerequisite = { focus = MOR_ask_for_advisors }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}				
			add_tech_bonus = {
				name = FRA_light_medium_armor
				bonus = 1.0
				uses = 1
				category = cat_light_armor
				category = cat_medium_armor
			}
			army_experience = 50
		}
	}
	
	focus = {
		id = MOR_new_garrison_units
		icon = GFX_focus_mex_soldaderas
		x = 2
		y = 5
		cost = 4
		prerequisite = { focus = MOR_improve_garrison }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			division_template = {
				name = "Garrison Unit"
				division_names_group = MOR_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"Garrison Unit\" division_template = \"Garrison Unit\" start_experience_factor = 0.5"
					owner = MOR
				}
				create_unit = {
					division = "name = \"Garrison Unit\" division_template = \"Garrison Unit\" start_experience_factor = 0.5"
					owner = MOR
				}
			}
		}
	}
	
	focus = {
		id = MOR_model_colony
		icon = GFX_focus_generic_treaty
		x = 6
		y = 6
		cost = 4
		prerequisite = { focus = MOR_new_garrison_units }
		prerequisite = { focus = MOR_a_new_form_of_protectorate }
		prerequisite = { focus = MOR_revive_berber_dahir_fra }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = { 
			add_ideas = MOR_model_colony
		}
	}
	
	focus = {
		id = MOR_The_Great_Experiment
		icon = GFX_goal_exp
		prerequisite = { focus = MOR_road_to_independence }
		x = 36
		y = 2

		cost = 5

		available = {
			has_country_flag = FEDERALISM
		}

		offset = {
			x = -15
			y = 0
			trigger = {
				has_completed_focus = MOR_road_to_independence
			}
		}
		
		allow_branch = {
			NOT = {
				has_completed_focus = MOR_Power_OF_Sultan
				has_completed_focus = MOR_rise_of_moroccan_democracy
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			mark_focus_tree_layout_dirty = yes
			set_cosmetic_tag = NAF
			every_state = {
				limit = {
					is_core_of = ALG
				}
				add_core_of = MOR
			}
			every_state = {
				limit = {
					is_core_of = TUN
				}
				add_core_of = MOR
			}
		}
	}
	focus = {
		id = MOR_Equal_development
		icon = GFX_focus_DEN_no_regulations
		prerequisite = { focus = MOR_The_Great_Experiment }
		x = 1
		y = 1
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}			
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}			
			}
		}
	}
	focus = {
		id = MOR_Fight_with_nationalism
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = MOR_The_Great_Experiment }
		x = -1
		y = 1
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = antinationalism
			add_political_power = 50
		}
	}
	focus = {
		id = MOR_Create_Parliament
		icon = GFX_focus_ETH_re-convene_the_parliament
		prerequisite = { focus = MOR_Fight_with_nationalism }
		prerequisite = { focus = MOR_Equal_development }
		x = 0
		y = 2
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			set_variable = { MOR_SUPPORT = 10 }
			unlock_decision_category_tooltip = MOR_federal_parliament
		}
	}
	focus = {
		id = MOR_Foreign_POlitics
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 3
		relative_position_id = MOR_The_Great_Experiment
		cost = 5

		available = {
			has_completed_focus = MOR_The_Great_Experiment
			has_army_manpower = {
				size > 150000
			}
		}
		
		allow_branch = {
			NOT = {
				has_completed_focus = MOR_Power_OF_Sultan
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_political_power = 100
		}
	}
	focus = {
		id = MOR_War_With_Spain
		icon = GFX_focus_focus_fra_intervention_spain
		x = 1
		y = 4
		relative_position_id = MOR_The_Great_Experiment
		prerequisite = { focus = MOR_Foreign_POlitics }
		cost = 5

		available = {
			has_completed_focus = MOR_The_Great_Experiment
			has_army_manpower = {
				size > 200000
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			unlock_decision_tooltip = MOR_peace_spa
			create_wargoal = {
				type = annex_everything
				target = SPR
			}
		}
	}
	focus = {
		id = MOR_Egyptian_negotiations
		icon = GFX_goal_egy
		x = 2
		y = 5
		relative_position_id = MOR_The_Great_Experiment
		prerequisite = { focus = MOR_War_With_Spain }
		cost = 5

		available = {
			has_completed_focus = MOR_Integrate_Lybia

			has_army_manpower = {
				size > 300000
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			unlock_decision_category_tooltip = MOR_Egypt
		}
	}
	focus = {
		id = MOR_Antifascist_jihad
		icon = GFX_focus_attack_germany
		x = 0
		y = 5
		relative_position_id = MOR_The_Great_Experiment
		prerequisite = { focus = MOR_War_With_Spain }
		prerequisite = { focus = MOR_Prepare_Lybian_Uprising }
		cost = 5

		available = {
			has_completed_focus = MOR_Integrate_Lybia
			has_completed_focus = MOR_Integrate_Egypt
			has_army_manpower = {
				size > 500000
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			every_country = {
				limit = {
					has_government = fascism
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
		}
	}
	focus = {
		id = MOR_Integrate_Egypt
		icon = GFX_goal_inte
		x = 2
		y = 6
		relative_position_id = MOR_The_Great_Experiment
		prerequisite = { focus = MOR_Egyptian_negotiations }
		cost = 5

		available = {
			has_completed_focus = MOR_Integrate_Lybia
			has_army_manpower = {
				size > 300000
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			every_state = {
				limit = {
					is_core_of = EGY
				}
				add_core_of = MOR
			}
			set_cosmetic_tag = EAF
		}
	}
	focus = {
		id = MOR_Prepare_Lybian_Uprising
		icon = GFX_goal_prep
		x = -1
		y = 4
		relative_position_id = MOR_The_Great_Experiment
		prerequisite = { focus = MOR_Foreign_POlitics }
		cost = 5

		available = {
			has_completed_focus = MOR_The_Great_Experiment
			has_army_manpower = {
				size > 250000
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			unlock_decision_category_tooltip = MOR_lybian_uprising
		}
	}
	focus = {
		id = MOR_Integrate_Lybia
		icon = GFX_goal_int
		x = -2
		y = 5
		relative_position_id = MOR_The_Great_Experiment
		prerequisite = { focus = MOR_Prepare_Lybian_Uprising }
		cost = 5

		available = {
			has_country_flag = lybia_independend
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			annex_country = {
				target = LBA
				transfer_troops = yes
			}
			set_cosmetic_tag = LAF
			every_state = {
				limit = {
					is_core_of = LBA
				}
				add_core_of = MOR
			}
		}
	}
	focus = {
		id = MOR_support_parliament
		icon = GFX_focus_POL_complete_april_constitution
		prerequisite = { focus = MOR_The_Great_Experiment }
		x = 3
		y = 1
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_to_variable = { MOR_SUPPORT = 4 }
			custom_effect_tooltip = support_4
		}
	}
	focus = {
		id = MOR_FSB
		icon = GFX_focus_generic_secret_service_agency
		prerequisite = { focus = MOR_support_parliament }
		x = 2
		y = 2
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			set_country_flag = doink_fsb
			activate_mission_tooltip = fsb
		}
	}
	focus = {
		id = MOR_Tri_korolya
		icon = GFX_goal_tri_king
		prerequisite = { focus = MOR_FSB }
		x = 2
		y = 3
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = tri_korol
		}
	}
	focus = {
		id = MOR_Remove_national_question
		icon = GFX_focus_BRA_repeale_national_security_law
		prerequisite = { focus = MOR_support_parliament }
		x = 4
		y = 2
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			remove_ideas = national_question
		}
	}
	focus = {
		id = MOR_anticorupttion
		icon = GFX_focus_ARG_anti_corruption_policies
		prerequisite = { focus = MOR_Remove_national_question }
		x = 4
		y = 3
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = non_Cor
		}
	}
	focus = {
		id = MOR_Mining_Federal_Res
		icon = GFX_focus_CHL_silverworking
		prerequisite = { focus = MOR_anticorupttion }
		prerequisite = { focus = MOR_Tri_korolya }
		x = 3
		y = 4
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			random_owned_controlled_state = {
				add_resource = {
					type = steel
					amount = 12
				}
			}
			random_owned_controlled_state = {
				add_resource = {
					type = oil
					amount = 6
				}
			}
			random_owned_controlled_state = {
				add_resource = {
					type = chromium
					amount = 4
				}
			}
		}
	}
	focus = {



		id = MOR_Capital_Question
		icon = GFX_focus_generic_improve_the_administration
		prerequisite = { focus = MOR_The_Great_Experiment }
		x = -3
		y = 1
		relative_position_id = MOR_The_Great_Experiment
		available_if_capitulated = no
		cost = 5
		
		available = {
			has_completed_focus = MOR_Create_Parliament
		}



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			country_event = morocco.8
		}
	}
	focus = {
		id = MOR_Improve_roads
		icon = GFX_focus_generic_improve_roads
		prerequisite = { focus = MOR_Capital_Question }
		x = -4
		y = 2
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			activate_mission_tooltip = improving_roads
			set_country_flag = doink_roads
		}
	}
	focus = {
		id = MOR_Develop_capital
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = MOR_Improve_roads }
		x = -4
		y = 3
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			capital_scope = { 
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}			
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}						
			}
		}
	}
	focus = {
		id = MOR_Act_of_non_compromiss_reform
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = MOR_Act_of_blago }
		prerequisite = { focus = MOR_Develop_capital }
		x = -3
		y = 4
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		completion_reward = {
			set_country_flag = doink_agr
			activate_mission_tooltip = uncompromiss_reform
		}
	}
	focus = {
		id = MOR_Federal_worker_rights
		icon = GFX_focus_generic_full_employment
		prerequisite = { focus = MOR_Capital_Question }
		x = -2
		y = 2
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			activate_mission_tooltip = improving_work
			set_country_flag = doink_work
		}
	}
	focus = {
		id = MOR_Act_of_blago
		icon = GFX_focus_focus_fra_liberte_egalite_solidarite
		prerequisite = { focus = MOR_Federal_worker_rights }
		x = -2
		y = 3
		relative_position_id = MOR_The_Great_Experiment
		cost = 5



		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			activate_mission_tooltip = improving_blago
			set_country_flag = doink_blago
		}
	}
	focus = {
		id = MOR_Power_OF_Sultan
		icon = GFX_focus_generic_monarchy_2
		prerequisite = { focus = MOR_road_to_independence }
		x = 54
		y = 2

		cost = 5

		available = {
			has_country_flag = MONARCHISM
		}

		offset = {
			x = -15
			y = 0
			trigger = {
				has_completed_focus = MOR_road_to_independence
			}
		}
		
		offset = {
			x = -15
			y = 0
			trigger = {
				has_completed_focus = MOR_Power_OF_Sultan
			}
		}
		
		allow_branch = {
			NOT = {
				has_completed_focus = MOR_The_Great_Experiment
				has_completed_focus = MOR_rise_of_moroccan_democracy
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			set_cosmetic_tag = SUL
			mark_focus_tree_layout_dirty = yes
		}
	}
	focus = {
		id = MOR_Quran_For_People
		icon = GFX_goal_quran
		prerequisite = { focus = MOR_Power_OF_Sultan }
		x = -2
		y = 1
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = quran
		}
	}
	focus = {
		id = MOR_Stronk_Power
		icon = GFX_goal_muh
		prerequisite = { focus = MOR_Power_OF_Sultan }
		x = 0
		y = 1
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_political_power = 100
		}
	}
	focus = {
		id = MOR_Protect_Islam
		icon = GFX_focus_TUR_loosen_the_laws_on_secularism
		prerequisite = { focus = MOR_Power_OF_Sultan }
		x = 2
		y = 1
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = islam
		}
	}
	focus = {
		id = MOR_Almutahidat_Waltaqlidia
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = MOR_Protect_Islam }
		prerequisite = { focus = MOR_Quran_For_People }
		prerequisite = { focus = MOR_Stronk_Power }
		x = 0
		y = 2
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			set_power_balance = {
				id = MOR_balance_of_power
				left_side = MOR_Traditional_side
				right_side = MOR_Modernized_side
			}
			add_power_balance_value = {
				id = MOR_balance_of_power
				value = -0.1
			}
		}
	}
	focus = {
		id = MOR_Strong_Militarry_Control
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = MOR_Almutahidat_Waltaqlidia }
		x = -4
		y = 3
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = millitary_control
		}
	}
	focus = {
		id = MOR_Serve
		icon = GFX_focus_generic_limited_social_mobilization
		prerequisite = { focus = MOR_Strong_Militarry_Control }
		x = -6
		y = 4
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			swap_ideas = {
				remove_idea = millitary_control
				add_idea = millitary_control_2
			}
		}
	}
	focus = {
		id = MOR_Millitary_Cabinet
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = MOR_Serve }
		x = -6
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_advisor_role = {
				character = MOR_abd_el_krim
				activate = yes
				advisor = {
					slot = political_advisor
					cost = 50
					idea_token = MOR_abd_el_krim_token
					traits = {
						silent_workhorse
					}
				}
			}
			set_can_be_fired_in_advisor_role = {
				character = MOR_abd_el_krim
				value = no
			}
		}
	}
	focus = {
		id = MOR_alhisab_ealaa_aliiman
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = MOR_Strong_Militarry_Control }
		x = -4
		y = 4
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = alhisab_ealaa_aliiman
		}
	}
	focus = {
		id = MOR_fight_with_opposition
		icon = GFX_focus_POL_ban_nazi_party
		prerequisite = { focus = MOR_alhisab_ealaa_aliiman }
		x = -4
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
	}
	focus = {
		id = MOR_Crush_Opposition
		icon = GFX_focus_spr_crush_the_revolution
		prerequisite = { focus = MOR_Strong_Militarry_Control }
		x = -2
		y = 4
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
			has_completed_focus = MOR_fight_with_opposition
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			activate_decision = ban_democratic_party
			activate_decision = ban_communist_party
		}
	}
	focus = {
		id = MOR_Nationalize_Industry
		icon = GFX_focus_BRA_repeale_national_security_law
		prerequisite = { focus = MOR_Crush_Opposition }
		x = -2
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range < MOR_Modernized_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}	
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	focus = {
		id = MOR_Begin_Reformation
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = MOR_Almutahidat_Waltaqlidia }
		x = 4
		y = 3
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_ideas = reformation
		}
	}
	focus = {
		id = MOR_Arabic_compromis
		icon = GFX_focus_TUR_treaty_of_saadabad
		prerequisite = { focus = MOR_Begin_Reformation }
		x = 2
		y = 4
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			remove_ideas = national_question
		}
	}
	focus = {
		id = MOR_Remove_Tax
		icon = GFX_focus_fra_devalue_the_franc
		prerequisite = { focus = MOR_Arabic_compromis }
		x = 2
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			unlock_decision_tooltip = MOR_remove_tax
		}
	}
	focus = {
		id = MOR_Local_Administration
		icon = GFX_focus_generic_improve_the_administration
		prerequisite = { focus = MOR_Begin_Reformation }
		x = 4
		y = 4
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_political_power = 100
		}
	}
	focus = {
		id = MOR_Mukri_Government
		icon = GFX_focus_ETH_re-convene_the_parliament
		prerequisite = { focus = MOR_Local_Administration }
		x = 4
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_advisor_role = {
				character = MOR_mukri
				activate = yes
				advisor = {
					slot = political_advisor
					cost = 50
					idea_token = MOR_mukri_token
					traits = {
						grand_vizier_nursi
					}
				}
			}
		}
	}
	focus = {
		id = MOR_Formation_of_Trade_Unions
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = MOR_Begin_Reformation }
		x = 6
		y = 4
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			swap_ideas = {
				remove_idea = reformation
				add_idea = reformation_2
			}			
		}
	}
	focus = {
		id = MOR_Improve_Justice
		icon = GFX_focus_generic_court
		prerequisite = { focus = MOR_Formation_of_Trade_Unions }
		x = 6
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			is_power_balance_in_range = {
				id = MOR_balance_of_power
				range > MOR_Traditional_low_range
			}
			has_completed_focus = MOR_
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			swap_ideas = {
				remove_idea = reformation_2
				add_idea = reformation_3
			}			
		}
	}
	focus = {
		id = MOR_Foreign_Politics_Sultan
		icon = GFX_focus_POL_support_global_falangism
		x = 0
		y = 5
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			has_army_manpower = {
				size > 250000
			}		
			has_completed_focus = MOR_Power_OF_Sultan
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			add_political_power = 50			
		}
	}
	focus = {
		id = MOR_Arabian_Outreach
		icon = GFX_focus_ETH_an_arabic_base
		prerequisite = { focus = MOR_Foreign_Politics_Sultan }
		x = -1
		y = 6
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			has_army_manpower = {
				size > 300000
			}			
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			unlock_decision_category_tooltip = MOR_arabian		
		}
	}
	focus = {
		id = MOR_Ankara_Union
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = MOR_Foreign_Politics_Sultan }
		x = 1
		y = 6
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			has_army_manpower = {
				size > 350000
			}			
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			TUR = {
				country_event = morocco.13
			}			
		}
	}
	focus = {
		id = MOR_Great_Jihad
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = MOR_Ankara_Union }
		prerequisite = { focus = MOR_Arabian_Outreach }
		x = 0
		y = 7
		relative_position_id = MOR_Power_OF_Sultan

		cost = 5
		
		available = {
			has_army_manpower = {
				size > 500000
			}			
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		completion_reward = {
			every_state = {
				limit = {
					is_core_of = LBA
				}
				add_core_of = MOR
				limit = {
					is_core_of = EGY
				}
				add_core_of = MOR
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
			}		
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FRA
			}	
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
			}	
		}
	}
	# focus = {
		# id = MOR_rise_of_moroccan_democracy
		# icon = GFX_goal_demos
		# prerequisite = { focus = MOR_road_to_independence }
		# x = 74
		# y = 2

		# cost = 5

		# available = {
			# has_country_flag = DEMOCRACY
		# }

		# offset = {
			# x = -20
			# y = 0
			# trigger = {
				# has_completed_focus = MOR_road_to_independence
			# }
		# }
		
		# offset = {
			# x = -30
			# y = 0
			# trigger = {
				# has_completed_focus = MOR_rise_of_moroccan_democracy
			# }
		# }
		
		# allow_branch = {
			# NOT = {
				# has_completed_focus = MOR_The_Great_Experiment
				# has_completed_focus = MOR_Power_OF_Sultan
			# }
		# }
		
		# cancel_if_invalid = yes
		# continue_if_invalid = no
		# available_if_capitulated = no


		# completion_reward = {
			# set_cosmetic_tag = DEM
			# mark_focus_tree_layout_dirty = yes
		# }
	# }
}